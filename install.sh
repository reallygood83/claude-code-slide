#!/bin/bash

# ðŸŽ¯ Claude Slide Generator - ì›í´ë¦­ ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸
# ê²€ì¦ëœ CLAUDE.md ìŠ¬ë¼ì´ë“œ ëª…ë ¹ì–´ë¥¼ ìžë™ìœ¼ë¡œ ì„¤ì¹˜í•©ë‹ˆë‹¤

set -e

echo "ðŸŽ¯ Claude Slide Generator ì„¤ì¹˜ë¥¼ ì‹œìž‘í•©ë‹ˆë‹¤..."
echo ""

# Claude Code ì„¤ì • ë””ë ‰í† ë¦¬ í™•ì¸
CLAUDE_DIR="$HOME/.claude"
CLAUDE_MD="$CLAUDE_DIR/CLAUDE.md"

# .claude ë””ë ‰í† ë¦¬ê°€ ì—†ìœ¼ë©´ ìƒì„±
if [ ! -d "$CLAUDE_DIR" ]; then
    echo "ðŸ“ .claude ë””ë ‰í† ë¦¬ë¥¼ ìƒì„±í•©ë‹ˆë‹¤..."
    mkdir -p "$CLAUDE_DIR"
fi

# CLAUDE.md íŒŒì¼ì´ ì—†ìœ¼ë©´ ìƒì„±
if [ ! -f "$CLAUDE_MD" ]; then
    echo "ðŸ“ CLAUDE.md íŒŒì¼ì„ ìƒì„±í•©ë‹ˆë‹¤..."
    cat > "$CLAUDE_MD" << 'EOF'
# Claude Code ì‚¬ìš©ìž ì„¤ì •

EOF
fi

# ê¸°ì¡´ ìŠ¬ë¼ì´ë“œ ëª…ë ¹ì–´ê°€ ìžˆëŠ”ì§€ í™•ì¸
if grep -q "## ìŠ¬ë¼ì´ë“œ: ëª…ë ¹ì–´" "$CLAUDE_MD" 2>/dev/null; then
    echo "âš ï¸  ê¸°ì¡´ ìŠ¬ë¼ì´ë“œ ëª…ë ¹ì–´ë¥¼ ë°œê²¬í–ˆìŠµë‹ˆë‹¤."
    echo -n "   ê¸°ì¡´ ëª…ë ¹ì–´ë¥¼ ì—…ë°ì´íŠ¸í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (y/N): "
    read -r response
    if [[ ! "$response" =~ ^[Yy]$ ]]; then
        echo "âŒ ì„¤ì¹˜ê°€ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤."
        exit 0
    fi
    
    # ê¸°ì¡´ ìŠ¬ë¼ì´ë“œ ëª…ë ¹ì–´ ì„¹ì…˜ ì œê±°
    echo "ðŸ”„ ê¸°ì¡´ ëª…ë ¹ì–´ë¥¼ ì œê±°í•˜ê³  ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤..."
    # ìž„ì‹œ íŒŒì¼ ì‚¬ìš©í•˜ì—¬ ê¸°ì¡´ ì„¹ì…˜ ì œê±°
    awk '
    /^## ìŠ¬ë¼ì´ë“œ: ëª…ë ¹ì–´/ { skip = 1; next }
    /^## / && skip { skip = 0 }
    /^# / && skip { skip = 0 }
    !skip { print }
    ' "$CLAUDE_MD" > "$CLAUDE_MD.tmp" && mv "$CLAUDE_MD.tmp" "$CLAUDE_MD"
fi

echo "ðŸ“ ê²€ì¦ëœ ìŠ¬ë¼ì´ë“œ ëª…ë ¹ì–´ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤..."

# ìŠ¬ë¼ì´ë“œ ëª…ë ¹ì–´ ì •ì˜ ì¶”ê°€
cat >> "$CLAUDE_MD" << 'EOF'

## ìŠ¬ë¼ì´ë“œ: ëª…ë ¹ì–´ (AI í”„ë ˆì  í…Œì´ì…˜ ìƒì„±ê¸°)
ì‚¬ìš©ìžê°€ "ìŠ¬ë¼ì´ë“œ:" ëª…ë ¹ì–´ë¥¼ ìž…ë ¥í•˜ê³  ì½˜í…ì¸  ì†ŒìŠ¤ë¥¼ ì œê³µí•˜ë©´:

### ðŸ“ ìž‘ì—… í”„ë¡œì„¸ìŠ¤
1. **Time MCP ì—°ë™**: `mcp__time-mcp__current_time`ìœ¼ë¡œ í˜„ìž¬ ë‚ ì§œì™€ ì‹œê°„ í™•ì¸
2. **ì½˜í…ì¸  ì²˜ë¦¬**: YouTube URL ë˜ëŠ” Markdown íŒŒì¼ì—ì„œ ë‚´ìš© ì¶”ì¶œ
3. **AI í…Œë§ˆ ì„ íƒ**: ì½˜í…ì¸  ë¶„ì„ì„ í†µí•œ ìµœì  í…Œë§ˆ ìžë™ ì„ íƒ
4. **HTML ìŠ¬ë¼ì´ë“œ ìƒì„±**: reveal.js ê¸°ë°˜ ì™„ì „í•œ í”„ë ˆì  í…Œì´ì…˜ ìƒì„±

### ðŸŽ¨ AI í…Œë§ˆ ì‹œìŠ¤í…œ (5ê°€ì§€)
- **business**: ë¹„ì¦ˆë‹ˆìŠ¤, íšŒì‚¬, ì „ëžµ, ìˆ˜ìµ í‚¤ì›Œë“œ ê°ì§€ ì‹œ
- **developer**: ì½”ë“œ, í”„ë¡œê·¸ëž˜ë°, ê°œë°œ, API, ê¸°ìˆ  í‚¤ì›Œë“œ ê°ì§€ ì‹œ  
- **academic**: ì—°êµ¬, í•™ìŠµ, ë¶„ì„, ë°©ë²•ë¡ , ê²°ê³¼ í‚¤ì›Œë“œ ê°ì§€ ì‹œ
- **creative**: ë””ìžì¸, ì°½ìž‘, ì˜ˆìˆ , ì›Œí¬ìˆ, ì•„ì´ë””ì–´ í‚¤ì›Œë“œ ê°ì§€ ì‹œ
- **minimalist**: ê¸°ë³¸ í…Œë§ˆ (íŠ¹ë³„í•œ í‚¤ì›Œë“œ ì—†ì„ ì‹œ)

### ðŸ“ ë·°í¬íŠ¸ ìµœì í™” (ê²€ì¦ëœ ì†”ë£¨ì…˜)
ëª¨ë“  ìŠ¬ë¼ì´ë“œì— ë‹¤ìŒ ìµœì í™” CSS ì ìš©:
```css
.reveal .slides section {
    padding: 5px 40px 20px 40px !important; /* ìƒë‹¨ 5px, í•˜ë‹¨ 20px */
    height: 100vh !important; /* ì •í™•í•œ ë·°í¬íŠ¸ ë†’ì´ */
    display: flex !important;
    flex-direction: column !important;
    justify-content: flex-start !important; /* ìƒë‹¨ ì •ë ¬ë¡œ ì—¬ë°± ìµœì†Œí™” */
}

/* í—¤ë” ë§ˆì§„ ì™„ì „ ì œê±° - ìƒë‹¨ ì—¬ë°± ìµœì†Œí™” */
.reveal h1, .reveal h2, .reveal h3, .reveal h4, .reveal h5, .reveal h6 {
    margin-top: 0 !important;
    margin-bottom: 0.5em !important;
}
```

### ðŸ“ íŒŒì¼ ìƒì„± ë° ì €ìž¥
- **ì €ìž¥ ìœ„ì¹˜**: `~/slides/` ë””ë ‰í† ë¦¬
- **íŒŒì¼ëª…**: `[ì œëª©]_[ìž‘ì„±ìžëª…]_YYYY-MM-DD.html`
- **ë¸Œë¼ìš°ì € í˜¸í™˜**: Chrome, Firefox, Safari, Edge ì™„ë²½ ì§€ì›

### ðŸ’¡ ì‚¬ìš©ë²• ì˜ˆì‹œ
```
ìŠ¬ë¼ì´ë“œ: https://www.youtube.com/watch?v=dQw4w9WgXcQ, ê¹€ë¬¸ì •, ë°•ë‹¬ì´ˆë“±í•™êµ
ìŠ¬ë¼ì´ë“œ: ~/Documents/ë°œí‘œìžë£Œ.md, í™ê¸¸ë™, ABCíšŒì‚¬, business
ìŠ¬ë¼ì´ë“œ: presentation.md, ì´ìˆ˜ì§„, ëŒ€í•™êµ, academic
```

### ðŸŽ¯ í”„ë ˆì  í…Œì´ì…˜ ê¸°ëŠ¥
- **ì „ì²´í™”ë©´**: F11 í‚¤
- **ìŠ¬ë¼ì´ë“œ ì´ë™**: Space/í™”ì‚´í‘œ í‚¤
- **ê°œìš” ë³´ê¸°**: Esc í‚¤  
- **ë°œí‘œìž ë…¸íŠ¸**: S í‚¤
- **PDF ë³€í™˜**: Ctrl+P â†’ PDF ì €ìž¥

### ðŸ”§ ê¸°ìˆ  êµ¬í˜„
- **reveal.js 4.3.1**: ìµœì‹  í”„ë ˆì  í…Œì´ì…˜ í”„ë ˆìž„ì›Œí¬
- **í•œêµ­ì–´ ìµœì í™”**: Pretendard + Noto Sans KR í°íŠ¸
- **ë°˜ì‘í˜• ë””ìžì¸**: 1366Ã—768 ~ 1920Ã—1080 í•´ìƒë„ ì§€ì›
- **PPT í˜¸í™˜**: 16:9 ë¹„ìœ¨ í‘œì¤€ ì¤€ìˆ˜

EOF

echo ""
echo "âœ… ì„¤ì¹˜ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!"
echo ""
echo "ðŸŽ¯ ì‚¬ìš© ë°©ë²•:"
echo "1. Claude Code ì‹¤í–‰"
echo "2. 'ìŠ¬ë¼ì´ë“œ: [YouTube URL/íŒŒì¼ê²½ë¡œ], [ìž‘ì„±ìž], [ì†Œì†]' ëª…ë ¹ì–´ ì‚¬ìš©"
echo ""
echo "ðŸ“‹ ì˜ˆì‹œ:"
echo "   ìŠ¬ë¼ì´ë“œ: https://youtube.com/watch?v=abc123, ê¹€ë¬¸ì •, ë°•ë‹¬ì´ˆë“±í•™êµ"
echo "   ìŠ¬ë¼ì´ë“œ: ~/Documents/ë°œí‘œ.md, í™ê¸¸ë™, ABCíšŒì‚¬, business"
echo ""
echo "ðŸŒ í”„ë¡œì íŠ¸: https://github.com/reallygood83/claude-code-slide"
echo ""
echo "ðŸŽ‰ ì´ì œ Claude Codeì—ì„œ 'ìŠ¬ë¼ì´ë“œ:' ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì‹¤ ìˆ˜ ìžˆìŠµë‹ˆë‹¤!"